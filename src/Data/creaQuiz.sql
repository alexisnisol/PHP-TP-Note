DROP TABLE IF EXISTS CONTIENT;
DROP TABLE IF EXISTS PARTICIPE;
DROP TABLE IF EXISTS QUESTION;
DROP TABLE IF EXISTS QUIZ;
DROP TABLE IF EXISTS UTILISATEUR;


CREATE TABLE CONTIENT (
  PRIMARY KEY (id_Quiz, id_Q),
  id_Quiz INT NOT NULL,
  id_Q    INT NOT NULL
);

CREATE TABLE PARTICIPE (
  PRIMARY KEY (id_Quiz, uu_Id),
  id_Quiz INT NOT NULL,
  uu_Id   INT NOT NULL,
  score   FLOAT
);

CREATE TABLE QUESTION (
  PRIMARY KEY (id_Q),
  id_Q    INT NOT NULL,
  type_Q  VARCHAR(42),
  label   VARCHAR(42),
  choices VARCHAR(42),
  correct VARCHAR(42)
);

CREATE TABLE QUIZ (
  PRIMARY KEY (id_Quiz),
  id_Quiz INT NOT NULL,
  nameQ    VARCHAR(42),
  themeQ   VARCHAR(42)
);

CREATE TABLE UTILISATEUR (
  PRIMARY KEY (uu_Id),
  uu_Id  INT NOT NULL,
  nom_U  VARCHAR(42),
  mdp    VARCHAR(42),
  type_U VARCHAR(42)
);

ALTER TABLE CONTIENT ADD FOREIGN KEY (id_Q) REFERENCES QUESTION (id_Q);
ALTER TABLE CONTIENT ADD FOREIGN KEY (id_Quiz) REFERENCES QUIZ (id_Quiz);

ALTER TABLE PARTICIPE ADD FOREIGN KEY (uu_Id) REFERENCES UTILISATEUR (uu_Id);
ALTER TABLE PARTICIPE ADD FOREIGN KEY (id_Quiz) REFERENCES QUIZ (id_Quiz);
