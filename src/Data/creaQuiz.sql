DROP TABLE IF EXISTS PARTICIPE;
DROP TABLE IF EXISTS QUESTION;
DROP TABLE IF EXISTS QUIZ;
DROP TABLE IF EXISTS UTILISATEUR;


CREATE TABLE PARTICIPE (
  PRIMARY KEY (id_Quiz, uuid),
  id_Quiz INT NOT NULL,
  uuid INT NOT NULL,
  score FLOAT,
  date DATE DEFAULT CURRENT_DATE
);

CREATE TABLE QUESTION (
  PRIMARY KEY (id_Q),
  id_Q INT NOT NULL,
  type_Q VARCHAR(42),
  label VARCHAR(42),
  choices VARCHAR(42),
  correct VARCHAR(42),
  id_Quiz INT NOT NULL
);

CREATE TABLE QUIZ (
  PRIMARY KEY (id_Quiz),
  id_Quiz INT NOT NULL,
  name_Q VARCHAR(42),
  theme VARCHAR(42)
);

CREATE TABLE UTILISATEUR (
  PRIMARY KEY (uuid),
  uuid INT NOT NULL,
  nom_U VARCHAR(42),
  mdp VARCHAR(42),
  type_U VARCHAR(42)
);

ALTER TABLE PARTICIPE ADD FOREIGN KEY (uuid) REFERENCES UTILISATEUR (uuid);
ALTER TABLE PARTICIPE ADD FOREIGN KEY (id_Quiz) REFERENCES QUIZ (id_Quiz);

ALTER TABLE QUESTION ADD FOREIGN KEY (id_Quiz) REFERENCES QUIZ (id_Quiz);
